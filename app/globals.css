@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600&family=Inter:wght@300;400;500;600&family=Roboto+Mono:wght@300;400&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================
   CSS CUSTOM PROPERTIES
   ========================================== */

:root {
    /* Background Layers */
    --bg-base: #000000;
    /* Strict Black */
    --bg-elevated: #0A0A0A;
    /* Very subtle lift */
    --bg-surface: #050505;
    /* Almost black cards */
    --bg-hover: #121212;

    /* Text Hierarchy */
    --text-primary: #FFFFFF;
    --text-secondary: #A1A1AA;
    /* Zinc-400 */
    --text-tertiary: #52525B;
    /* Zinc-600 */

    /* Semantic Colors - NEON PALETTE (User Precise) */
    /* Strain: Magenta Red (R220, G20, B60 approx) -> #E11D48 */
    --color-strain: #E11D48;
    --color-strain-dim: rgba(225, 29, 72, 0.1);

    /* Withdrawal: Orange -> #F59E0B */
    --color-withdrawal: #F59E0B;
    --color-withdrawal-dim: rgba(245, 158, 11, 0.1);
    /* Orange Fade Start */
    --color-orange-fade: #F59E0B;

    /* Trust Gap: Blue/Cyan -> #0EA5E9 */
    --color-trust: #0EA5E9;
    --color-trust-dim: rgba(14, 165, 233, 0.1);

    /* Engagement: Green -> #10B981 */
    --color-engagement: #10B981;
    --color-engagement-dim: rgba(16, 185, 129, 0.1);

    /* Signal Confidence */
    --color-signal: #8B5CF6;
    --color-meta: #8B5CF6;

    /* Accents */
    --accent-primary: #8B5CF6;
    /* Violet */
    --accent-secondary: #06B6D4;
    /* Cyan */

    /* Borders */
    --border: rgba(255, 255, 255, 0.1);
    --border-highlight: rgba(255, 255, 255, 0.2);

    /* Chart Utilities */
    --uncertainty-alpha: 0.2;
}

/* ==========================================
   BASE STYLES
   ========================================== */

@layer base {
    html {
        @apply antialiased;
        font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    }

    body {
        background-color: var(--bg-base);
        color: var(--text-primary);
        font-family: 'Inter', system-ui, sans-serif;
        font-size: 16px;
        line-height: 1.6;
    }

    /* Typography Base */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: 'DM Sans', system-ui, sans-serif;
        @apply font-semibold tracking-tight;
    }

    h1 {
        @apply text-4xl md:text-5xl;
    }

    h2 {
        @apply text-3xl md:text-4xl;
    }

    h3 {
        @apply text-2xl md:text-3xl;
    }

    h4 {
        @apply text-xl md:text-2xl;
    }

    h5 {
        @apply text-lg md:text-xl;
    }

    h6 {
        @apply text-base md:text-lg;
    }

    /* Ensure minimum 14px for all text */
    p,
    span,
    div,
    li,
    td,
    th,
    label,
    input,
    textarea,
    select,
    button {
        font-size: max(0.875rem, 14px);
    }

    /* Selection */
    ::selection {
        background-color: rgba(139, 92, 246, 0.3);
        color: var(--text-primary);
    }

    /* Scrollbar styling for dark theme */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background-color: var(--bg-elevated);
    }

    ::-webkit-scrollbar-thumb {
        background-color: var(--border-highlight);
        border-radius: 9999px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background-color: var(--text-tertiary);
    }
}

/* ==========================================
   COMPONENT UTILITIES
   ========================================== */

@layer components {

    /* Card Base */
    .card {
        background-color: var(--bg-surface);
        border: 1px solid var(--border);
        @apply rounded-lg p-6;
    }

    /* Glass Effect */
    .glass {
        background-color: rgba(24, 24, 27, 0.8);
        border: 1px solid rgba(39, 39, 42, 0.5);
        @apply backdrop-blur-md;
    }

    /* Signal Card - For key metrics display */
    .signal-card {
        background-color: var(--bg-surface);
        border: 1px solid var(--border);
        @apply rounded-xl p-6 transition-all duration-300;
    }

    .signal-card:hover {
        border-color: rgba(139, 92, 246, 0.3);
        box-shadow: 0 0 10px rgba(139, 92, 246, 0.2);
    }

    /* Semantic Value Displays */
    .value-strain {
        color: var(--color-strain);
    }

    .value-withdrawal {
        color: var(--color-withdrawal);
    }

    .value-trust-gap {
        color: var(--color-trust);
    }

    .value-engagement {
        color: var(--color-engagement);
    }

    .value-meta {
        color: var(--color-meta);
    }

    /* Qualitative State Badges */
    .badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    }

    .badge-critical {
        background-color: var(--color-strain-dim);
        color: var(--color-strain);
    }

    .badge-warning {
        background-color: var(--color-withdrawal-dim);
        color: var(--color-withdrawal);
    }

    .badge-healthy {
        background-color: var(--color-engagement-dim);
        color: var(--color-engagement);
    }

    .badge-neutral {
        background-color: var(--bg-hover);
        color: var(--text-secondary);
    }

    /* Trend Indicators */
    .trend-up {
        color: var(--color-engagement);
    }

    .trend-down {
        color: var(--color-strain);
    }

    .trend-stable {
        color: var(--text-tertiary);
    }

    /* Governance Indicators */
    .confidence-bar {
        background-color: var(--bg-hover);
        @apply h-2 rounded-full overflow-hidden;
    }

    .confidence-bar-fill {
        @apply h-full rounded-full transition-all duration-500;
    }
}

/* ==========================================
   CHART STYLING
   ========================================== */

@layer utilities {

    .recharts-cartesian-grid-horizontal line,
    .recharts-cartesian-grid-vertical line {
        stroke: var(--bg-hover);
        stroke-opacity: 0.5;
    }

    .recharts-cartesian-axis-line,
    .recharts-cartesian-axis-tick-line {
        stroke: var(--bg-hover);
    }

    .recharts-cartesian-axis-tick-value {
        fill: var(--text-tertiary);
        font-family: 'Roboto Mono', monospace;
        font-size: 12px;
    }

    .recharts-tooltip-wrapper {
        @apply !pointer-events-none;
    }

    .recharts-default-tooltip {
        background-color: var(--bg-surface) !important;
        border: 1px solid var(--border) !important;
        @apply !rounded-lg !shadow-glow-sm;
    }

    .recharts-tooltip-label {
        color: var(--text-primary) !important;
        font-weight: 500 !important;
    }

    .recharts-tooltip-item {
        color: var(--text-secondary) !important;
    }
}

/* ==========================================
   DASHBOARD SPECIFIC
   ========================================== */

@layer components {

    /* Impact Bars */
    .impact-bar {
        background-color: var(--bg-hover);
        @apply h-2 rounded-full overflow-hidden;
    }
}

/* ==========================================
   LANDING PAGE SPECIFIC
   ========================================== */

@layer components {

    /* Demo Dashboard Preview */
    .demo-preview {
        @apply relative rounded-2xl overflow-hidden;
        border: 1px solid rgba(39, 39, 42, 0.5);
        box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
    }

    .demo-preview-inner {
        background-color: rgba(24, 24, 27, 0.9);
        @apply backdrop-blur-sm;
    }
}